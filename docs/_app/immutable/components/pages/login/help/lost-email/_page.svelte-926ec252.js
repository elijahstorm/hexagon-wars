import{S as N,i as B,s as O,v as w,w as q,x as E,f as b,t as h,y as S,M as P,e as p,b as _,g as A,d as D,h as i,k,q as d,l as g,m as v,r as $,n as C,I as y,B as m,Q as R,R as F,a as L,c as T,O as V,u as z}from"../../../../../chunks/paths-8e1e5da9.js";import{S as M,F as Q}from"../../../../../chunks/SmallCenterContentOverBackground-8c3b5347.js";import{c as U}from"../../../../../chunks/auth-176b2987.js";import{I as j}from"../../../../../chunks/InfoCard-a2f6668c.js";import{s as x}from"../../../../../chunks/session-a18d45eb.js";import{g as G}from"../../../../../chunks/navigation-0a738735.js";function H(s){let e,r;return e=new Q({props:{callback:s[2],inputs:[{text:"Email",id:"email",type:"email",icon:"/icon/person.svg"}],$$slots:{button:[W],title:[K]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,n){const o={};n&32&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function J(s){let e,r;return e=new j({props:{$$slots:{default:[re]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,n){const o={};n&33&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function K(s){let e,r;return{c(){e=k("div"),r=d("Lost Email"),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=v(e);r=$(n,"Lost Email"),n.forEach(i),this.h()},h(){C(e,"slot","title")},m(t,n){_(t,e,n),y(e,r)},p:m,d(t){t&&i(e)}}}function W(s){let e,r;return{c(){e=k("div"),r=d("Request email"),this.h()},l(t){e=g(t,"DIV",{slot:!0});var n=v(e);r=$(n,"Request email"),n.forEach(i),this.h()},h(){C(e,"slot","button")},m(t,n){_(t,e,n),y(e,r)},p:m,d(t){t&&i(e)}}}function X(s){return{c:m,l:m,m,p:m,d:m}}function Y(s){let e;function r(o,l){return o[4].error?ee:Z}let t=r(s),n=t(s);return{c(){n.c(),e=p()},l(o){n.l(o),e=p()},m(o,l){n.m(o,l),_(o,e,l)},p(o,l){t===(t=r(o))&&n?n.p(o,l):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&i(e)}}}function Z(s){let e;return{c(){e=d("A password change email was sent")},l(r){e=$(r,"A password change email was sent")},m(r,t){_(r,e,t)},p:m,d(r){r&&i(e)}}}function ee(s){let e,r=s[4].error+"",t,n,o,l,f,a;return{c(){e=k("p"),t=d(r),n=L(),o=k("button"),l=d("Retry"),this.h()},l(c){e=g(c,"P",{});var u=v(e);t=$(u,r),u.forEach(i),n=T(c),o=g(c,"BUTTON",{class:!0});var I=v(o);l=$(I,"Retry"),I.forEach(i),this.h()},h(){C(o,"class","button svelte-khzpmq")},m(c,u){_(c,e,u),y(e,t),_(c,n,u),_(c,o,u),y(o,l),f||(a=V(o,"click",s[3]),f=!0)},p(c,u){u&1&&r!==(r=c[4].error+"")&&z(t,r)},d(c){c&&i(e),c&&i(n),c&&i(o),f=!1,a()}}}function te(s){let e;return{c(){e=d("Sending....")},l(r){e=$(r,"Sending....")},m(r,t){_(r,e,t)},p:m,d(r){r&&i(e)}}}function re(s){let e,r,t={ctx:s,current:null,token:null,hasCatch:!1,pending:te,then:Y,catch:X,value:4};return R(r=s[0],t),{c(){e=p(),t.block.c()},l(n){e=p(),t.block.l(n)},m(n,o){_(n,e,o),t.block.m(n,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(n,o){s=n,t.ctx=s,o&1&&r!==(r=s[0])&&R(r,t)||F(t,s,o)},d(n){n&&i(e),t.block.d(n),t.token=null,t=null}}}function ne(s){let e,r,t,n;const o=[J,H],l=[];function f(a,c){return a[1]?0:1}return e=f(s),r=l[e]=o[e](s),{c(){r.c(),t=p()},l(a){r.l(a),t=p()},m(a,c){l[e].m(a,c),_(a,t,c),n=!0},p(a,c){let u=e;e=f(a),e===u?l[e].p(a,c):(A(),h(l[u],1,1,()=>{l[u]=null}),D(),r=l[e],r?r.p(a,c):(r=l[e]=o[e](a),r.c()),b(r,1),r.m(t.parentNode,t))},i(a){n||(b(r),n=!0)},o(a){h(r),n=!1},d(a){l[e].d(a),a&&i(t)}}}function oe(s){let e,r;return e=new M({props:{$$slots:{default:[ne]},$$scope:{ctx:s}}}),{c(){w(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){E(e,t,n),r=!0},p(t,[n]){const o={};n&35&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){r||(b(e.$$.fragment,t),r=!0)},o(t){h(e.$$.fragment,t),r=!1},d(t){S(e,t)}}}function se(s,e,r){let t;const n=async f=>(r(1,t=!0),r(0,l=U(f.email)),""),o=()=>{r(1,t=!1),r(0,l=null)};let l;return x.subscribe(async({user:f,ready:a})=>{f&&a&&G(`${P}/me`)}),r(1,t=!1),[l,t,n,o]}class _e extends N{constructor(e){super(),B(this,e,se,oe,O,{})}}export{_e as default};
