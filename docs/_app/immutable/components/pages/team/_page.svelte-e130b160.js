import{S as F,i as O,s as Q,k as b,l as y,m as E,h as m,n as h,b as d,I,O as X,g as U,t as g,d as B,f as k,M as Y,a as T,q as D,c as P,r as L,P as Z,B as _,v as V,w as M,x as N,y as q,e as C,a4 as x,ae as ee,u as te,Q as re,R as le}from"../../../chunks/paths-8e1e5da9.js";import{e as se,d as ae}from"../../../chunks/auth-176b2987.js";import{g as ne}from"../../../chunks/navigation-0a738735.js";import{U as oe}from"../../../chunks/UserIconList-de4f95de.js";import{F as ie}from"../../../chunks/Casing-f11dea70.js";import{P as ce}from"../../../chunks/ProtectedPage-7e6e184c.js";import{L as ue}from"../../../chunks/Loader-9d4b2fab.js";const fe=async({query:i="users",value:t=ae(),amount:r=10})=>{const s="updatedOn";let n,c=[];t=await t;try{n=await se({isTeam:!0,amount:r,timestamp:s,queries:[{type:i,compare:"array-contains",value:t}]})}catch(l){return l}return n.forEach(l=>{var o,p,u;const a=l.data();c.push({contentType:"team",id:(o=a.id)!=null?o:l.id,title:(p=a.title)==null?void 0:p.trim(),caption:(u=a.caption)==null?void 0:u.trim(),picture:`https://firebasestorage.googleapis.com/v0/b/hexagon-wars.appx${a.picture}`,private:a.private,users:a.users})}),c};function pe(i){let t,r,e,s,n,c;return{c(){t=b("div"),r=b("img"),s=T(),n=b("p"),c=D("Team not found"),this.h()},l(l){t=y(l,"DIV",{class:!0});var a=E(t);r=y(a,"IMG",{src:!0,alt:!0}),a.forEach(m),s=P(l),n=y(l,"P",{class:!0});var o=E(n);c=L(o,"Team not found"),o.forEach(m),this.h()},h(){Z(r.src,e=W)||h(r,"src",e),h(r,"alt","team not found"),h(t,"class","background svelte-4vpts7"),h(n,"class","caption bold alert svelte-4vpts7")},m(l,a){d(l,t,a),I(t,r),d(l,s,a),d(l,n,a),I(n,c)},p:_,i:_,o:_,d(l){l&&m(t),l&&m(s),l&&m(n)}}}function me(i){let t,r,e,s,n,c,l,a,o,p,u,v,$,G=i[3].length+"",A,S;return r=new ie({props:{src:i[4],alt:`team ${i[1]}`}}),u=new oe({props:{users:i[3],hideMe:!0}}),{c(){t=b("div"),V(r.$$.fragment),e=T(),s=b("p"),n=D(i[1]),c=T(),l=b("p"),a=D(i[2]),o=T(),p=b("div"),V(u.$$.fragment),v=T(),$=b("p"),A=D(G),this.h()},l(f){t=y(f,"DIV",{class:!0});var w=E(t);M(r.$$.fragment,w),w.forEach(m),e=P(f),s=y(f,"P",{class:!0});var R=E(s);n=L(R,i[1]),R.forEach(m),c=P(f),l=y(f,"P",{class:!0});var z=E(l);a=L(z,i[2]),z.forEach(m),o=P(f),p=y(f,"DIV",{class:!0});var j=E(p);M(u.$$.fragment,j),v=P(j),$=y(j,"P",{class:!0});var H=E($);A=L(H,G),H.forEach(m),j.forEach(m),this.h()},h(){h(t,"class","background svelte-4vpts7"),h(s,"class","title bold svelte-4vpts7"),h(l,"class","caption svelte-4vpts7"),h($,"class","bold svelte-4vpts7"),h(p,"class","info svelte-4vpts7")},m(f,w){d(f,t,w),N(r,t,null),d(f,e,w),d(f,s,w),I(s,n),d(f,c,w),d(f,l,w),I(l,a),d(f,o,w),d(f,p,w),N(u,p,null),I(p,v),I(p,$),I($,A),S=!0},p:_,i(f){S||(k(r.$$.fragment,f),k(u.$$.fragment,f),S=!0)},o(f){g(r.$$.fragment,f),g(u.$$.fragment,f),S=!1},d(f){f&&m(t),q(r),f&&m(e),f&&m(s),f&&m(c),f&&m(l),f&&m(o),f&&m(p),q(u)}}}function _e(i){let t,r,e,s,n,c,l;const a=[me,pe],o=[];function p(u,v){return typeof u[0]!="string"?0:1}return e=p(i),s=o[e]=a[e](i),{c(){t=b("div"),r=b("div"),s.c(),this.h()},l(u){t=y(u,"DIV",{class:!0});var v=E(t);r=y(v,"DIV",{class:!0});var $=E(r);s.l($),$.forEach(m),v.forEach(m),this.h()},h(){h(r,"class","grid svelte-4vpts7"),h(t,"class","card svelte-4vpts7")},m(u,v){d(u,t,v),I(t,r),o[e].m(r,null),n=!0,c||(l=X(t,"click",i[5]),c=!0)},p(u,[v]){let $=e;e=p(u),e===$?o[e].p(u,v):(U(),g(o[$],1,1,()=>{o[$]=null}),B(),s=o[e],s?s.p(u,v):(s=o[e]=a[e](u),s.c()),k(s,1),s.m(r,null))},i(u){n||(k(s),n=!0)},o(u){g(s),n=!1},d(u){u&&m(t),o[e].d(),c=!1,l()}}}const W="/404.png";function de(i,t,r){let{team:e}=t;const{title:s,caption:n,picture:c,users:l}=typeof e=="string"?{title:"",caption:"",picture:W,users:[]}:e,a=c,o=()=>{console.log(e),typeof e!="string"&&ne(`${Y}/team/${e.id}`)};return i.$$set=p=>{"team"in p&&r(0,e=p.team)},[e,s,n,l,a,o]}class $e extends F{constructor(t){super(),O(this,t,de,_e,Q,{team:0})}}function J(i,t,r){const e=i.slice();return e[1]=t[r],e}function ve(i){let t=[],r=new Map,e,s,n=i[0];const c=l=>l[1].id;for(let l=0;l<n.length;l+=1){let a=J(i,n,l),o=c(a);r.set(o,t[l]=K(o,a))}return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=C()},l(l){for(let a=0;a<t.length;a+=1)t[a].l(l);e=C()},m(l,a){for(let o=0;o<t.length;o+=1)t[o].m(l,a);d(l,e,a),s=!0},p(l,a){a&1&&(n=l[0],U(),t=x(t,a,c,1,l,n,r,e.parentNode,ee,K,e,J),B())},i(l){if(!s){for(let a=0;a<n.length;a+=1)k(t[a]);s=!0}},o(l){for(let a=0;a<t.length;a+=1)g(t[a]);s=!1},d(l){for(let a=0;a<t.length;a+=1)t[a].d(l);l&&m(e)}}}function he(i){let t;return{c(){t=D("No teams joined!")},l(r){t=L(r,"No teams joined!")},m(r,e){d(r,t,e)},p:_,i:_,o:_,d(r){r&&m(t)}}}function ge(i){let t;return{c(){t=D(i[0])},l(r){t=L(r,i[0])},m(r,e){d(r,t,e)},p(r,e){e&1&&te(t,r[0])},i:_,o:_,d(r){r&&m(t)}}}function K(i,t){let r,e,s,n;return e=new $e({props:{team:t[1]}}),{key:i,first:null,c(){r=b("div"),V(e.$$.fragment),s=T(),this.h()},l(c){r=y(c,"DIV",{class:!0});var l=E(r);M(e.$$.fragment,l),s=P(l),l.forEach(m),this.h()},h(){h(r,"class","svelte-1g76rm0"),this.first=r},m(c,l){d(c,r,l),N(e,r,null),I(r,s),n=!0},p(c,l){t=c;const a={};l&1&&(a.team=t[1]),e.$set(a)},i(c){n||(k(e.$$.fragment,c),n=!0)},o(c){g(e.$$.fragment,c),n=!1},d(c){c&&m(r),q(e)}}}function ke(i){let t,r,e,s,n;const c=[ge,he,ve],l=[];function a(o,p){return p&1&&(t=null),t==null&&(t=typeof o[0]=="string"||!Array.isArray(o[0])),t?0:o[0].length==0?1:2}return r=a(i,-1),e=l[r]=c[r](i),{c(){e.c(),s=C()},l(o){e.l(o),s=C()},m(o,p){l[r].m(o,p),d(o,s,p),n=!0},p(o,[p]){let u=r;r=a(o,p),r===u?l[r].p(o,p):(U(),g(l[u],1,1,()=>{l[u]=null}),B(),e=l[r],e?e.p(o,p):(e=l[r]=c[r](o),e.c()),k(e,1),e.m(s.parentNode,s))},i(o){n||(k(e),n=!0)},o(o){g(e),n=!1},d(o){l[r].d(o),o&&m(s)}}}function be(i,t,r){let{teams:e=[]}=t;return i.$$set=s=>{"teams"in s&&r(0,e=s.teams)},[e]}class ye extends F{constructor(t){super(),O(this,t,be,ke,Q,{teams:0})}}function we(i){return{c:_,l:_,m:_,p:_,i:_,o:_,d:_}}function Ee(i){let t,r;return t=new ye({props:{teams:i[0]}}),{c(){V(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,s){N(t,e,s),r=!0},p:_,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){q(t,e)}}}function Ie(i){let t,r;return t=new ue({props:{loadingStyle:"dots",top:4}}),{c(){V(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,s){N(t,e,s),r=!0},p:_,i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){q(t,e)}}}function Te(i){let t,r,e={ctx:i,current:null,token:null,hasCatch:!1,pending:Ie,then:Ee,catch:we,value:0,blocks:[,,,]};return re(fe({}),e),{c(){t=C(),e.block.c()},l(s){t=C(),e.block.l(s)},m(s,n){d(s,t,n),e.block.m(s,e.anchor=n),e.mount=()=>t.parentNode,e.anchor=t,r=!0},p(s,n){i=s,le(e,i,n)},i(s){r||(k(e.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const c=e.blocks[n];g(c)}r=!1},d(s){s&&m(t),e.block.d(s),e.token=null,e=null}}}function Pe(i){let t,r;return t=new ce({props:{$$slots:{default:[Te]},$$scope:{ctx:i}}}),{c(){V(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,s){N(t,e,s),r=!0},p(e,[s]){const n={};s&2&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){r||(k(t.$$.fragment,e),r=!0)},o(e){g(t.$$.fragment,e),r=!1},d(e){q(t,e)}}}class Se extends F{constructor(t){super(),O(this,t,null,Pe,Q,{})}}export{Se as default};
